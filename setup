#!/bin/bash

OF_RELEASE=http://openframeworks.cc/versions/v0.9.3/of_v0.9.3_osx_release.zip

## Stop on any error.
set -e

curl $OF_RELEASE > third-party/of.zip
unzip -q third-party/of.zip -d third-party
cd third-party
mkdir -p openFrameworks
( cd of_v0.9.3_osx_release && tar cf - . ) | (cd openFrameworks && tar xpf - )
rm -rf of_v0.9.3_osx_release/
rm -f of.zip
cd ..

git submodule init
git submodule update

ln -s $(pwd)/third-party/ofxGrt/ third-party/openFrameworks/addons/ofxGrt
ln -s $(pwd)/third-party/ofxDatGui/ third-party/openFrameworks/addons/ofxDatGui
ln -s $(pwd)/third-party/ofxParagraph/ third-party/openFrameworks/addons/ofxParagraph

echo "Done"
